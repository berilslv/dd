<!DOCTYPE html>
<html lang="lv">
<head>
  <meta charset="UTF-8">
  <title>Lietoti Biznesa Klases Klƒìpjdatori | LaptopHub</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:400,600&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Poppins', sans-serif;
      background: #f4f5f7;
      color: #222e36;
    }

    /* Navigation */
    nav {
      background: #233259;
      padding: 16px 0;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    .nav-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .logo {
      font-size: 1.4rem;
      font-weight: 600;
      color: #fff;
      text-decoration: none;
    }
    .nav-menu {
      display: flex;
      list-style: none;
      gap: 32px;
      align-items: center;
    }
    .nav-menu a {
      color: #fff;
      text-decoration: none;
      font-weight: 500;
      transition: opacity 0.2s;
    }
    .nav-menu a:hover {
      opacity: 0.8;
    }
    .admin-link {
      background: #425671;
      padding: 8px 16px;
      border-radius: 6px;
      font-size: 0.9rem;
    }

    /* Header Hero */
    header {
      background: linear-gradient(120deg, #e6eaee 60%, #2d3a4c 100%);
      padding: 60px 20px 50px 20px;
      text-align: center;
    }
    .hero {
      max-width: 700px;
      margin: 0 auto;
      background: #fff;
      border-radius: 20px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.12);
      padding: 45px 35px 35px 35px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .hero-title {
      font-size: 2.2rem;
      font-weight: 600;
      margin-bottom: 12px;
      color: #233259;
    }
    .hero-tagline {
      font-size: 1.1rem;
      margin-bottom: 35px;
      color: #475067;
      line-height: 1.6;
    }

    /* Laptop Rotator */
    .hero-rotator {
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 30px;
      width: 100%;
    }
    .laptop-img {
      width: 380px;
      height: 190px;
      object-fit: contain;
      border-radius: 12px;
      box-shadow: 0 4px 14px rgba(44, 62, 80, 0.08);
      background: #eef1f5;
      margin: 0 20px;
      transition: box-shadow 0.2s;
      cursor: pointer;
    }
    .laptop-img:hover {
      box-shadow: 0 6px 20px rgba(44, 62, 80, 0.12);
    }
    .rot-btn {
      background: #233259;
      color: #fff;
      border: none;
      border-radius: 50%;
      width: 42px;
      height: 42px;
      font-size: 1.5rem;
      cursor: pointer;
      transition: background 0.16s;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .rot-btn:hover {
      background: #3a4b6e;
    }

    /* Laptop Info */
    .laptop-info {
      text-align: center;
      margin-bottom: 25px;
    }
    .laptop-model {
      font-size: 1.3rem;
      font-weight: 600;
      color: #233259;
      margin-bottom: 8px;
    }
    .laptop-specs {
      color: #5a6b7d;
      font-size: 0.95rem;
      line-height: 1.5;
    }

    .shop-btn {
      background: #233259;
      color: #fff;
      border: none;
      padding: 14px 40px;
      border-radius: 32px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 4px 14px rgba(44, 62, 80, 0.08);
      margin-bottom: 12px;
      letter-spacing: 0.5px;
      transition: background 0.14s;
      text-decoration: none;
      display: inline-block;
    }
    .shop-btn:hover {
      background: #425671;
    }

    /* Highlights */
    .highlights {
      display: flex;
      justify-content: center;
      margin-top: 30px;
      gap: 30px;
      flex-wrap: wrap;
    }
    .highlight-item {
      background: #edf2f6;
      color: #223146;
      border-radius: 10px;
      padding: 10px 24px;
      font-size: 0.95rem;
      box-shadow: 0 2px 8px rgba(44, 62, 80, 0.04);
      font-weight: 500;
    }

    /* Newsletter */
    .newsletter {
      margin: 60px auto;
      max-width: 450px;
      background: #fff;
      border-radius: 18px;
      box-shadow: 0 2px 10px rgba(56, 72, 97, 0.07);
      padding: 30px 35px;
      text-align: center;
    }
    .news-title {
      font-size: 1.2rem;
      margin-bottom: 12px;
      color: #25344e;
      font-weight: 600;
    }
    .news-subtitle {
      color: #5a6b7d;
      margin-bottom: 20px;
      font-size: 0.95rem;
    }
    .newsletter form {
      display: flex;
      flex-direction: column;
      gap: 12px;
      align-items: center;
    }
    .newsletter input {
      width: 100%;
      padding: 12px 16px;
      border-radius: 8px;
      border: 1px solid #b3bfcf;
      font-size: 1rem;
      font-family: 'Poppins', sans-serif;
    }
    .newsletter input:focus {
      outline: none;
      border-color: #233259;
    }
    .newsletter button {
      background: #233259;
      color: #fff;
      border: none;
      border-radius: 24px;
      padding: 11px 40px;
      font-size: 1rem;
      font-weight: 600;
      margin-top: 10px;
      cursor: pointer;
      transition: background 0.13s;
    }
    .newsletter button:hover {
      background: #425671;
    }

    /* Footer */
    footer {
      background: #2d3a4c;
      color: #d4dae1;
      padding: 30px 20px;
      text-align: center;
      margin-top: 40px;
    }
    .footer-links {
      display: flex;
      justify-content: center;
      gap: 28px;
      margin-bottom: 18px;
      flex-wrap: wrap;
    }
    .footer-links a {
      color: #d4dae1;
      text-decoration: none;
      transition: color 0.2s;
    }
    .footer-links a:hover {
      color: #fff;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .hero {
        padding: 30px 20px;
      }
      .hero-title {
        font-size: 1.6rem;
      }
      .hero-tagline {
        font-size: 1rem;
      }
      .laptop-img {
        width: 70vw;
        max-width: 320px;
        height: 160px;
        margin: 0 10px;
      }
      .rot-btn {
        width: 38px;
        height: 38px;
        font-size: 1.3rem;
      }
      .highlights {
        flex-direction: column;
        align-items: center;
        gap: 12px;
      }
      .nav-menu {
        gap: 18px;
        font-size: 0.9rem;
      }
      .newsletter {
        margin: 40px 20px;
      }
    }
  </style>
</head>
<body>
  <!-- Navigation -->
  <nav>
    <div class="nav-container">
      <a href="index.html" class="logo">üíº LaptopHub</a>
      <ul class="nav-menu">
        <li><a href="index.html">SƒÅkums</a></li>
        <li><a href="products.html">Veikals</a></li>
        <li><a href="about.html">Par Mums</a></li>
        <li><a href="contact.html">Kontakti</a></li>
        <li><a href="gallery.html">Galerija</a></li>
        <li><a href="login.html" class="admin-link">Admin</a></li>
      </ul>
    </div>
  </nav>

  <!-- Hero Section -->
  <header>
    <div class="hero">
      <div class="hero-title">AugstƒÅkƒÅs KvalitƒÅtes Biznesa Klƒìpjdatori. SaprƒÅtƒ´gas Cenas.</div>
      <div class="hero-tagline">ThinkPad, Dell Latitude un HP EliteBook‚Äîr≈´pƒ´gi pƒÅrbaudƒ´ti un sertificƒìti kvalitƒÅtei.</div>

      <div class="hero-rotator">
        <button class="rot-btn" onclick="rotateLaptop(-1)" aria-label="Iepriek≈°ƒìjais klƒìpjdators">‚Äπ</button>
        <img class="laptop-img" id="laptopImage" src="" alt="Biznesa Klƒìpjdators" onclick="goToDetail()">
        <button class="rot-btn" onclick="rotateLaptop(1)" aria-label="NƒÅkamais klƒìpjdators">‚Ä∫</button>
      </div>

      <div class="laptop-info" id="laptopInfo">
        <div class="laptop-model"></div>
        <div class="laptop-specs"></div>
      </div>

      <a href="#" class="shop-btn" id="shopNowBtn">Apskatƒ´t Detaƒºas</a>

      <div class="highlights">
        <span class="highlight-item">‚úì Sertificƒìta KvalitƒÅte</span>
        <span class="highlight-item">‚úì 1 Gada Garantija</span>
        <span class="highlight-item">‚úì Bezmaksas PiegƒÅde</span>
      </div>
    </div>
  </header>

  <!-- Newsletter Section -->
  <section class="newsletter">
    <div class="news-title">Sa≈Üemiet Jaunumus</div>
    <div class="news-subtitle">Uzziniet par jauniem klƒìpjdatoriem vai ƒ´pa≈°iem piedƒÅvƒÅjumiem!</div>
    <form id="newsletterForm">
      <input type="text" placeholder="J≈´su VƒÅrds" name="name" required>
      <input type="email" placeholder="J≈´su E-pasts" name="email" required>
      <button type="submit">Pierakstƒ´ties</button>
    </form>
  </section>

  <!-- Footer -->
  <footer>
    <div class="footer-links">
      <a href="index.html">SƒÅkums</a>
      <a href="products.html">Veikals</a>
      <a href="about.html">Par Mums</a>
      <a href="contact.html">Kontakti</a>
    </div>
    <p>&copy; 2024 LaptopHub. Visas tiesƒ´bas aizsargƒÅtas.</p>
  </footer>

  <script>
    let laptops = [];
    let current = 0;

    // Fetch laptops from API
    async function fetchLaptops() {
      try {
        const response = await fetch('/api/laptops.php');
        const result = await response.json();

        if (result.success) {
          laptops = result.laptops;
          if (laptops.length > 0) {
            updateDisplay();
          }
        } else {
          console.error('Failed to fetch laptops:', result.error);
        }
      } catch (error) {
        console.error('Error fetching laptops:', error);
      }
    }

    function rotateLaptop(delta) {
      current = (current + delta + laptops.length) % laptops.length;
      updateDisplay();
    }

    function updateDisplay() {
      const laptop = laptops[current];
      const img = document.getElementById('laptopImage');
      const info = document.getElementById('laptopInfo');
      const shopBtn = document.getElementById('shopNowBtn');

      // Use first image from images array, fallback to imageUrl for backwards compatibility
      const displayImage = (laptop.images && laptop.images.length > 0) ? laptop.images[0] : laptop.imageUrl;
      img.src = displayImage;
      img.alt = `${laptop.brand} ${laptop.model}`;

      info.innerHTML = `
        <div class="laptop-model">${laptop.brand} ${laptop.model}</div>
        <div class="laptop-specs">${laptop.processor} ‚Ä¢ ${laptop.ram} ‚Ä¢ ${laptop.storage} ‚Ä¢ $${laptop.price}</div>
      `;

      shopBtn.href = `laptop-detail.html?id=${current}`;
    }

    function goToDetail() {
      window.location.href = `laptop-detail.html?id=${current}`;
    }

    // Newsletter form handler
    document.getElementById('newsletterForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const formData = new FormData(this);
      const name = formData.get('name');
      const email = formData.get('email');

      alert(`Paldies, ${name}! J≈´s esat pierakstƒ´jies.\nMƒìs s≈´tƒ´sim jaunumus uz: ${email}`);
      this.reset();
    });

    // Initialize
    fetchLaptops();

    // Reload laptops when page becomes visible (in case admin added new ones)
    document.addEventListener('visibilitychange', function() {
      if (!document.hidden) {
        fetchLaptops();
        if (current >= laptops.length) current = 0;
      }
    });
  </script>
</body>
</html>
