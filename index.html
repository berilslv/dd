<!DOCTYPE html>
<html lang="lv">
<head>
  <meta charset="UTF-8">
  <title>Lietoti Biznesa Klases KlÄ“pjdatori | LaptopHub</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:400,600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/base/variables.css">
  <link rel="stylesheet" href="css/base/reset.css">
  <link rel="stylesheet" href="css/layout/navigation.css">
  <link rel="stylesheet" href="css/layout/footer.css">
  <link rel="stylesheet" href="css/components/buttons.css">
  <link rel="stylesheet" href="css/components/forms.css">
  <link rel="stylesheet" href="css/pages/home.css">
</head>
<body>
  <!-- Navigation -->
  <nav>
    <div class="nav-container">
      <a href="index.html" class="logo">ğŸ’¼ LaptopHub</a>
      <ul class="nav-menu">
        <li><a href="index.html">SÄkums</a></li>
        <li><a href="products.html">Veikals</a></li>
        <li><a href="about.html">Par Mums</a></li>
        <li><a href="contact.html">Kontakti</a></li>
        <li><a href="gallery.html">Galerija</a></li>
        <li><a href="login.html" class="admin-link">Admin</a></li>
      </ul>
    </div>
  </nav>

  <!-- Hero Section -->
  <header>
    <div class="hero">
      <div class="hero-title">AugstÄkÄs KvalitÄtes Biznesa KlÄ“pjdatori. SaprÄtÄ«gas Cenas.</div>
      <div class="hero-tagline">ThinkPad, Dell Latitude un HP EliteBookâ€”rÅ«pÄ«gi pÄrbaudÄ«ti un sertificÄ“ti kvalitÄtei.</div>

      <div class="hero-rotator">
        <button class="rot-btn" onclick="rotateLaptop(-1)" aria-label="IepriekÅ¡Ä“jais klÄ“pjdators">â€¹</button>
        <img class="laptop-img" id="laptopImage" src="" alt="Biznesa KlÄ“pjdators" onclick="goToDetail()">
        <button class="rot-btn" onclick="rotateLaptop(1)" aria-label="NÄkamais klÄ“pjdators">â€º</button>
      </div>

      <div class="laptop-info" id="laptopInfo">
        <div class="laptop-model"></div>
        <div class="laptop-specs"></div>
      </div>

      <a href="#" class="shop-btn" id="shopNowBtn">ApskatÄ«t DetaÄ¼as</a>

      <div class="highlights">
        <span class="highlight-item">âœ“ SertificÄ“ta KvalitÄte</span>
        <span class="highlight-item">âœ“ 1 Gada Garantija</span>
        <span class="highlight-item">âœ“ Bezmaksas PiegÄde</span>
      </div>
    </div>
  </header>

  <!-- Newsletter Section -->
  <section class="newsletter">
    <div class="news-title">SaÅ†emiet Jaunumus</div>
    <div class="news-subtitle">Uzziniet par jauniem klÄ“pjdatoriem vai Ä«paÅ¡iem piedÄvÄjumiem!</div>
    <form id="newsletterForm">
      <input type="text" placeholder="JÅ«su VÄrds" name="name" required>
      <input type="email" placeholder="JÅ«su E-pasts" name="email" required>
      <button type="submit">PierakstÄ«ties</button>
    </form>
  </section>

  <!-- Footer -->
  <footer>
    <div class="footer-links">
      <a href="index.html">SÄkums</a>
      <a href="products.html">Veikals</a>
      <a href="about.html">Par Mums</a>
      <a href="contact.html">Kontakti</a>
    </div>
    <p>&copy; 2024 LaptopHub. Visas tiesÄ«bas aizsargÄtas.</p>
  </footer>

  <script>
    let laptops = [];
    let current = 0;

    // Fetch laptops from localStorage
    function fetchLaptops() {
      // Get laptops from localStorage or use empty array
      laptops = JSON.parse(localStorage.getItem('laptops')) || [];
      if (laptops.length > 0) {
        updateDisplay();
      }
    }

    function rotateLaptop(delta) {
      current = (current + delta + laptops.length) % laptops.length;
      updateDisplay();
    }

    function updateDisplay() {
      const laptop = laptops[current];
      const img = document.getElementById('laptopImage');
      const info = document.getElementById('laptopInfo');
      const shopBtn = document.getElementById('shopNowBtn');

      // Use first image from images array, fallback to imageUrl for backwards compatibility
      const displayImage = (laptop.images && laptop.images.length > 0) ? laptop.images[0] : laptop.imageUrl;
      img.src = displayImage;
      img.alt = `${laptop.brand} ${laptop.model}`;

      info.innerHTML = `
        <div class="laptop-model">${laptop.brand} ${laptop.model}</div>
        <div class="laptop-specs">${laptop.processor} â€¢ ${laptop.ram} â€¢ ${laptop.storage} â€¢ $${laptop.price}</div>
      `;

      shopBtn.href = `laptop-detail.html?id=${current}`;
    }

    function goToDetail() {
      window.location.href = `laptop-detail.html?id=${current}`;
    }

    // Newsletter form handler
    document.getElementById('newsletterForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const formData = new FormData(this);
      const name = formData.get('name');
      const email = formData.get('email');

      alert(`Paldies, ${name}! JÅ«s esat pierakstÄ«jies.\nMÄ“s sÅ«tÄ«sim jaunumus uz: ${email}`);
      this.reset();
    });

    // Initialize
    fetchLaptops();

    // Reload laptops when page becomes visible (in case admin added new ones)
    document.addEventListener('visibilitychange', function() {
      if (!document.hidden) {
        fetchLaptops();
        if (current >= laptops.length) current = 0;
      }
    });
  </script>
</body>
</html>
